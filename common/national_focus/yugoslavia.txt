#########################################
# TAOX - Yugoslavia National Focus Tree #
#########################################

focus_tree = {
	id = yugoslavian_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = YUG
			has_dlc = "Death or Dishonor"
		}
	}
	
	default = no

	continuous_focus_position = {
		x = 50 y = 1350
	}

	######################
	# Pre-War/War Branch #
	######################

		focus = { # Western Focus
			id = YUG_western_focus
			icon = GFX_goal_generic_position_armies

			x = 2
			y = 0

			cost = 10

			mutually_exclusive = {
				focus = YUG_recognize_the_soviet_union
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_political_power = 120
			}

			ai_will_do = {
				factor = 200
			}
		}

		focus = { # Friendship Treaty with Italy
			id = YUG_friendship_treaty_with_italy
			icon = GFX_goal_generic_improve_relations

			x = -1
			y = 1

			relative_position_id = YUG_western_focus

			cost = 5

			prerequisite = {
				focus = YUG_western_focus
			}
			
			mutually_exclusive = {
				focus = YUG_reinforce_old_alliances
			}

			available = {
				ITA = {
					NOT = {
						has_war_with = ROOT
					}
					exists = yes
					has_capitulated = no
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				ITA = {
					add_opinion_modifier = {
						target = ROOT
						modifier = large_increase
					}
				}
			}

			ai_will_do = {
				factor = 80
			}
		}

		focus = { # Reinforce Old Alliances
			id = YUG_reinforce_old_alliances
			icon = GFX_goal_generic_major_alliance

			x = 1
			y = 1

			relative_position_id = YUG_western_focus

			cost = 10

			prerequisite = {
				focus = YUG_western_focus
			}
			
			mutually_exclusive = {
				focus = YUG_friendship_treaty_with_italy
			}

			available = {
				ENG = {
					NOT = {
						has_war_with = ROOT
					}
					exists = yes
					has_capitulated = no
				}
				FRA = {
					NOT = {
						has_war_with = ROOT
					}
					exists = yes
					has_capitulated = no
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				ENG = {
					add_opinion_modifier = { 
							target = ROOT
							modifier = large_increase
						}
					add_ai_strategy = {
						type = protect
						id = "YUG"
						value = 100
					}
				}
				add_relation_modifier = {
					target = ENG
					modifier = YUG_western_license
				}
				FRA = {
					add_opinion_modifier = { 
							target = ROOT
							modifier = large_increase
						}
					add_ai_strategy = {
						type = protect
						id = "YUG"
						value = 100
					}
				}
				add_relation_modifier = {
					target = FRA
					modifier = YUG_western_license
				}
			}

			ai_will_do = {
				factor = 40
			}
		}

		focus = { # Attract Foreign Capital
			id = YUG_attract_foreign_capital
			icon = GFX_goal_generic_intelligence_exchange

			x = 0
			y = 2

			relative_position_id = YUG_western_focus

			cost = 10

			prerequisite = {
				focus = YUG_friendship_treaty_with_italy focus = YUG_reinforce_old_alliances
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_ideas = YUG_idea_foreign_capital
			}

			ai_will_do = {
				factor = 80
			}
		}

		focus = { # Ban Slovene Nationalist Parties
			id = YUG_ban_slovene_nationalist_parties
			icon = GFX_focus_generic_support_the_left_right

			x = -1
			y = 1

			relative_position_id = YUG_attract_foreign_capital

			cost = 

			prerequisite = {
				focus = YUG_attract_foreign_capital
			}
			
			mutually_exclusive = {
				focus = YUG_limited_self_government
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				remove_ideas = YUG_idea_slovene_nationalism
				ITA = {
					add_opinion_modifier = { 
							target = ROOT
							modifier = huge_increase
					}
				}
			}

			ai_will_do = {
				factor = 40
			}
		}

		focus = { # Traditional Values
			id = YUG_traditional_values
			icon = GFX_goal_generic_propaganda

			x = 0
			y = 1
			relative_position_id = YUG_ban_slovene_nationalist_parties

			cost = 10

			prerequisite = {
				focus = YUG_ban_slovene_nationalist_parties focus = YUG_limited_self_government
			}
			
			mutually_exclusive = {
				focus = YUG_guarantee_religious_liberties
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_ideas = YUG_idea_orthodox_church_support
			}

			ai_will_do = {
				factor = 60
			}
		}

		focus = { # Greater Yugoslavia
			id = YUG_greater_yugoslavia
			icon = GFX_goal_generic_occupy_states_ongoing_war

			x = 0
			y = 2

			relative_position_id = YUG_ban_slovene_nationalist_parties

			cost = 10

			prerequisite = {
				focus = YUG_traditional_values focus = YUG_guarantee_religious_liberties
			}
			
			mutually_exclusive = {
				focus = YUG_concessions_for_macedonians
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_state_claim = 48
				add_state_claim = 211
				add_state_claim = 212
				news_event = {
					id = news.325
				}
			}

			ai_will_do = {
				factor = 60
			}
		}

		focus = { # All Yugoslavian Regiments
			id = YUG_all_yugoslavian_regiments
			icon = GFX_goal_rhineland

			x = -2
			y = 3

			relative_position_id = YUG_ban_slovene_nationalist_parties

			cost = 10

			prerequisite = {
				focus = YUG_greater_yugoslavia
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_ideas = YUG_idea_all_yugoslavian_regiments
			}

			ai_will_do = {
				factor = 80
			}
		}

		focus = { # Crush the USTASA
			id = YUG_crush_the_ustasa
			icon = GFX_goal_generic_political_pressure

			x = 0
			y = 3

			relative_position_id = YUG_ban_slovene_nationalist_parties

			cost = 5

			prerequisite = {
				focus = YUG_greater_yugoslavia focus = YUG_concessions_for_macedonians
			}
			
			mutually_exclusive = {
				focus = YUG_establish_the_banovina_of_croatia
			}

			available = {
				ITA = {
					NOT = {
						has_war_with = ROOT
					}
					exists = yes
					has_capitulated = no
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				swap_ideas = {
					remove_idea = YUG_idea_croatian_opposition
					add_idea = YUG_idea_croats_suppressed
				}
			}

			ai_will_do = {
				factor = 60
			}
		}

		focus = { # Invite German Military Mission
			id = YUG_invite_german_military_mission
			icon = GFX_focus_generic_military_mission

			x = 0
			y = 4

			relative_position_id = YUG_ban_slovene_nationalist_parties

			cost = 5

			prerequisite = {
				focus = YUG_crush_the_ustasa
				focus = YUG_establish_the_banovina_of_croatia
			}
			
			mutually_exclusive = {
				focus = YUG_non_discriminating_officer_promotions
			}

			available = {
				GER = {
					NOT = {
						has_war_with = ROOT
					}
					exists = yes
					has_capitulated = no
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				remove_ideas = anti_german_military
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # Join Axis
			id = YUG_join_axis
			icon = GFX_goal_support_fascism

			x = 0
			y = 5

			relative_position_id = YUG_ban_slovene_nationalist_parties

			cost = 10

			prerequisite = {
				focus = YUG_invite_german_military_mission
			}

			bypass = {
				is_in_faction_with = GER
			}

			available = {
				GER = {
					NOT = {
						has_war_with = ROOT
					}
					has_government = fascism
					has_capitulated = no
					is_faction_leader = yes
				}
				NOT = {
					any_other_country = {
						is_in_faction_with = GER
						has_war_with = YUG
					}
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				if = {
					limit = {
						has_idea = anti_german_military
					}
					country_event = DOD_yugoslavia.1
				}
				GER = {
					country_event = generic.2
				}
			}

			ai_will_do = {
				factor = 100
			}
		}

		focus = { # Claim Macedonia
			id = YUG_claim_macedonia
			icon = GFX_goal_generic_territory_or_war

			x = -2
			y = 1

			relative_position_id = YUG_join_axis

			cost = 10

			prerequisite = {
				focus = YUG_join_axis
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				if = {
					limit = {
						owns_state = 106
					}
					add_state_core = 731
				}
				news_event = {
					id = news.327
				}
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # Invite Italian Naval Experts
			id = YUG_invite_italian_naval_experts
			icon = GFX_goal_generic_occupy_states_coastal

			x = 0
			y = 6

			relative_position_id = YUG_ban_slovene_nationalist_parties

			cost = 10

			prerequisite = {
				focus = YUG_join_axis
			}

			available = {
				ITA = {
					is_in_faction_with = ROOT
					NOT = {
						has_war_with = ROOT
					}
					exists = yes
					has_capitulated = no
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_to_tech_sharing_group = YUG_naval_research_group
				ITA = {
					add_to_tech_sharing_group = YUG_naval_research_group
				}
				navy_experience = 50
			}

			ai_will_do = {
				factor = 100
			}
		}

	#####################
	# Government Branch #
	#####################

		focus = { # Limited Self-Government
			id = YUG_limited_self_government
			icon = GFX_goal_anschluss

			x = 1
			y = 1

			relative_position_id = YUG_attract_foreign_capital

			cost = 10

			prerequisite = {
				focus = YUG_attract_foreign_capital
			}
			
			mutually_exclusive = {
				focus = YUG_ban_slovene_nationalist_parties
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				swap_ideas = {
					remove_idea = YUG_idea_slovene_nationalism
					add_idea = YUG_idea_slovene_nationalism_2
				}
			}

			ai_will_do = {
				factor = 40
			}
		}

		focus = { # Guarantee Religious Liberties
			id = YUG_guarantee_religious_liberties
			icon = GFX_goal_generic_neutrality_focus

			x = 0
			y = 1

			relative_position_id = YUG_limited_self_government

			cost = 10

			prerequisite = {
				focus = YUG_limited_self_government
			}
			
			mutually_exclusive = {
				focus = YUG_traditional_values
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_ideas = YUG_idea_religious_freedoms_guaranteed
			}

			ai_will_do = {
				factor = 40
			}
		}

		focus = { # Local Militias
			id = YUG_local_militias
			icon = GFX_goal_generic_allies_build_infantry

			x = 2
			y = 1

			relative_position_id = YUG_limited_self_government

			cost = 10

			prerequisite = {
				focus = YUG_form_peasant_councils
				focus = YUG_limited_self_government
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_ideas = YUG_idea_local_militias
			}

			ai_will_do = {
				factor = 80
			}
		}

		focus = { # Concessions for Macedonians
			id = YUG_concessions_for_macedonians
			icon = GFX_focus_generic_concessions
			
			x = 0
			y = 2

			relative_position_id = YUG_limited_self_government

			cost = 10

			prerequisite = {
				focus = YUG_guarantee_religious_liberties
				focus = YUG_traditional_values
			}

			mutually_exclusive = {
				focus = YUG_greater_yugoslavia 
			}

			available = {
				BUL = {
					NOT = {
						has_war_with = ROOT
					}
					exists = yes
					has_capitulated = no
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				remove_ideas = YUG_idea_macedonian_opposition
			}

			ai_will_do = {
				factor = 40
			}
		}

		focus = { # Establish the Banovina of Croatia
			id = YUG_establish_the_banovina_of_croatia
			icon = GFX_focus_YUG_banovina_of_croatia

			x = 0
			y = 3

			relative_position_id = YUG_limited_self_government

			cost = 10

			prerequisite = {
				focus = YUG_concessions_for_macedonians
			}
			
			mutually_exclusive = {
				focus = YUG_crush_the_ustasa
			}

			available = {
				controls_state = 109
				controls_state = 103
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				remove_ideas = YUG_idea_croatian_opposition
				release_puppet = CRO 
				set_autonomy = {
					target = CRO autonomy_state = autonomy_integrated_puppet
				}
				hidden_effect = {
					news_event = {
						id = news.326 hours = 6
					}
				}
			}

			ai_will_do = {
				factor = 40
			}
		}

		focus = { # Non-Discriminating Office Promotions
			id = YUG_non_discriminating_officer_promotions
			icon = GFX_goal_generic_special_forces

			x = 0
			y = 4

			relative_position_id = YUG_limited_self_government

			cost = 10

			prerequisite = {
				focus = YUG_crush_the_ustasa
				focus = YUG_establish_the_banovina_of_croatia
			}

			mutually_exclusive = {
				focus = YUG_invite_german_military_mission
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
					swap_ideas = {
						remove_idea = YUG_idea_serbian_general_staff
						add_idea = YUG_idea_yugoslavian_general_staff
					}
			}

			ai_will_do = {
				factor = 80
			}
		}

		focus = { # Join Allies
			id = YUG_join_allies
			icon = GFX_goal_support_democracy

			x = 0
			y = 5

			relative_position_id = YUG_limited_self_government

			cost = 10

			prerequisite = {
				focus = YUG_non_discriminating_officer_promotions
			}

			bypass = {
				is_in_faction_with = ENG
			}

			available = {
				ENG = {
					NOT = {
						has_war_with = ROOT
					}
					has_capitulated = no
					is_faction_leader = yes
				}
				NOT = {
					any_other_country = {
						is_in_faction_with = ENG
						has_war_with = YUG
					}
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				ENG = {
					country_event = generic.2
				}
				if = {
					limit = {
						has_idea = YUG_idea_croatian_opposition
					}
					country_event = DOD_yugoslavia.10
				}
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # Reclaim Istria and Zadar
			id = YUG_reclaim_istria_and_zadar
			icon = GFX_goal_generic_territory_or_war

			x = 2
			y = 6

			relative_position_id = YUG_limited_self_government

			cost = 10

			prerequisite = {
				focus = YUG_join_allies
			}

			available = {
				has_war_with = ITA
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_state_core = 736
				if = {
					limit = {
						owns_state = 103
					}
					add_state_core = 163
				}
				news_event = {
					id = news.328
				}
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # Allied Air Combat School
			id = YUG_allied_air_combat_school
			icon = GFX_goal_generic_air_doctrine

			x = 0
			y = 6

			relative_position_id = YUG_limited_self_government

			cost = 10

			prerequisite = {
				focus = YUG_join_allies
			}

			available = {
				is_in_faction_with = ENG
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_to_tech_sharing_group = YUG_air_research_group
				ENG = {
					add_to_tech_sharing_group = YUG_air_research_group
				}
			}

			ai_will_do = {
				factor = 100
			}
		}

	####################
	# Communist Branch #
	####################

		focus = { # Recognize the Soviet Union
			id = YUG_recognize_the_soviet_union
			icon = GFX_focus_generic_soviet_politics

			x = 8
			y = 0

			cost = 10

			mutually_exclusive = {
				focus = YUG_western_focus
			}

			available = {
				SOV = {
					NOT = {
						has_war_with = ROOT
					}
					exists = yes
					has_capitulated = no
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				SOV = {
					add_opinion_modifier = { 
						target = ROOT
						modifier = medium_increase
					}
				}
				news_event = {
					id = news.329
				}
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # Form Peasant Councils
			id = YUG_form_peasant_councils
			icon = GFX_goal_generic_demand_territory

			x = -1
			y = 1

			relative_position_id = YUG_recognize_the_soviet_union

			cost = 10

			prerequisite = {
				focus = YUG_recognize_the_soviet_union
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_ideas = YUG_idea_peasant_councils
			}

			ai_will_do = {
				factor = 200
			}
		}

		focus = { # Mutual Economic Aid
			id = YUG_mutual_economic_aid
			icon = GFX_goal_generic_soviet_construction

			x = 1
			y = 1

			relative_position_id = YUG_recognize_the_soviet_union

			cost = 10

			prerequisite = {
				focus = YUG_recognize_the_soviet_union
			}

			available = {
				SOV = {
					NOT = {
						has_war_with = ROOT
					}
					exists = yes
					has_capitulated = no
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_timed_idea = {
					idea = YUG_idea_economic_aid days = 720
				}
				SOV = {
					add_timed_idea = {
						idea = YUG_idea_economic_aid days = 365
					}
					add_ai_strategy = {
						type = protect
						id = "YUG"
						value = 100
					}
				}
			}

			ai_will_do = {
				factor = 200
			}
		}

		focus = { # Abolish the Monarchy
			id = YUG_abolish_the_monarchy
			icon = GFX_goal_tfv_burn_the_royal_portraits

			x = 0
			y = 2

			relative_position_id = YUG_recognize_the_soviet_union

			cost = 10

			prerequisite = {
				focus = YUG_form_peasant_councils
			}
			prerequisite = {
				focus = YUG_mutual_economic_aid
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				swap_ideas = {
					remove_idea = YUG_idea_peasant_councils
					add_idea = YUG_idea_empowered_peasant_councils
				}
			}

			ai_will_do = {
				factor = 150
			}
		}

		focus = { # Join Comintern
			id = YUG_join_comintern
			icon = GFX_focus_generic_join_comintern

			x = -1
			y = 1

			relative_position_id = YUG_abolish_the_monarchy

			cost = 10

			prerequisite = {
				focus = YUG_abolish_the_monarchy
			}
			
			mutually_exclusive = {
				focus = YUG_yugoslavian_path_to_communism
			}

			bypass = {
				is_in_faction_with = SOV
			}

			available = {
				is_in_faction = no
				SOV = {
					NOT = {
						has_war_with = ROOT
					}
					exists = yes
					has_capitulated = no
				}
				NOT = {
					any_other_country = {
						is_in_faction_with = SOV
						has_war_with = YUG
					}
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				SOV = {
					country_event = generic.2
				}
			}

			ai_will_do = {
				factor = 40
			}
		}

		focus = { # Path to Communism
			id = YUG_yugoslavian_path_to_communism
			icon = GFX_goal_generic_war_with_comintern

			x = 1
			y = 1

			relative_position_id = YUG_abolish_the_monarchy

			cost = 10

			prerequisite = {
				focus = YUG_abolish_the_monarchy
			}
			
			mutually_exclusive = {
				focus = YUG_join_comintern
			}

			bypass = {
				is_in_faction = yes
			}

			available = {
				is_in_faction = no
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				swap_ideas = {
					remove_idea = YUG_idea_empowered_peasant_councils
					add_idea = YUG_idea_very_empowered_peasant_councils
				}
			}

			ai_will_do = {
				factor = 60
			}
		}

		focus = { # Form the Federal Republic
			id = YUG_form_the_federal_republic
			icon = GFX_goal_generic_forceful_treaty

			x = 0
			y = 1

			relative_position_id = YUG_yugoslavian_path_to_communism

			cost = 10

			prerequisite = {
				focus = YUG_join_comintern
				focus = YUG_yugoslavian_path_to_communism
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				remove_ideas = YUG_idea_croatian_opposition
				remove_ideas = YUG_idea_macedonian_opposition
				remove_ideas = YUG_idea_slovene_nationalism
			}

			ai_will_do = {
				factor = 100
			}
		}

		focus = { # Pan-Slavic Workers' Congress
			id = YUG_pan_slavic_workers_congress
			icon = GFX_focus_YUG_pan_slavic_congress

			x = 3
			y = 1

			relative_position_id = YUG_yugoslavian_path_to_communism

			cost = 10

			prerequisite = {
				focus = YUG_yugoslavian_path_to_communism
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				set_rule = {
					can_create_factions = yes
				}
				create_faction = panslavic_workers_congress
				news_event = {
					id = news.330
				}
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # Reseach Collaboration
			id = YUG_research_collaboration
			icon = GFX_focus_generic_socialist_science

			x = 0
			y = 1

			relative_position_id = YUG_join_comintern

			cost = 10

			prerequisite = {
				focus = YUG_join_comintern
			}

			available = {
				is_in_faction_with = SOV
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_to_tech_sharing_group = YUG_SOV_research_group
				SOV = {
					add_to_tech_sharing_group = YUG_SOV_research_group
				}
			}

			ai_will_do = {
				factor = 100
			}
		}

		focus = { # Federal Defense Council
			id = YUG_federal_defense_council
			icon = GFX_goal_demand_sudetenland

			x = 0
			y = 2

			relative_position_id = YUG_yugoslavian_path_to_communism

			cost = 10

			prerequisite = {
				focus = YUG_form_the_federal_republic
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				if = {
					limit = {
						has_idea = YUG_idea_serbian_general_staff
					}
					swap_ideas = {
						remove_idea = YUG_idea_serbian_general_staff
						add_idea = YUG_idea_federal_defense_council
					}
				}
				if = {
					limit = {
						has_idea = YUG_idea_yugoslavian_general_staff
					}
					swap_ideas = {
						remove_idea = YUG_idea_yugoslavian_general_staff
						add_idea = YUG_idea_federal_defense_council
					}
				}
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # Invite Bulgaria
			id = YUG_invite_bulgaria
			icon = GFX_goal_generic_alliance

			x = -1
			y = 1

			relative_position_id = YUG_pan_slavic_workers_congress

			cost = 10

			prerequisite = {
				focus = YUG_pan_slavic_workers_congress
			}

			available = {
				BUL = {
					NOT = {
						has_war_with = ROOT
					}
					exists = yes
					is_puppet = no
					is_in_faction = no
					has_government = communism
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				BUL = {
					country_event = generic.5
				}
			}

			ai_will_do = {
				factor = 100
			}
		}

		focus = { # Invite Albania
			id = YUG_invite_albania
			icon = GFX_goal_generic_alliance

			x = 1
			y = 1

			relative_position_id = YUG_pan_slavic_workers_congress

			cost = 10

			prerequisite = {
				focus = YUG_pan_slavic_workers_congress
			}

			available = {
				ALB = {
					NOT = {
						has_war_with = ROOT
					}
					exists = yes
					is_puppet = no
					is_in_faction = no
					has_government = communism
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				ALB = {
					country_event = generic.5
				}
			}

			ai_will_do = {
				factor = 100
			}
		}

	###################
	# Industry Branch #
	###################

		focus = { # Industrialization Program
			id = YUG_industrialization_program
			icon = GFX_goal_generic_construction
			x = 17
			y = 0

			cost = 10

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				add_tech_bonus = {
					bonus = 0.5
					uses = 2
					category = industry
				}
			}

			ai_will_do = {
				factor = 80
			}
		}

		focus = { # Expand the Mining Industry
			id = YUG_expand_the_mining_industry
			icon = GFX_goal_generic_construct_civilian

			x = 0
			y = 1

			relative_position_id = YUG_industrialization_program

			cost = 10

			prerequisite = {
				focus = YUG_industrialization_program
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				add_ideas = YUG_idea_expanded_mining_industry
			}

			ai_will_do = {
				factor = 70
				modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
				}
			}
		}

		focus = { # Rare Minerals Exploitation
			id = YUG_rare_minerals_exploitation
			icon = GFX_goal_generic_construction2

			x = -3
			y = 1

			relative_position_id = YUG_expand_the_mining_industry

			cost = 10

			prerequisite = {
				focus = YUG_expand_the_mining_industry
			}

			available = {
				OR = {
					has_full_control_of_state = 105
					has_full_control_of_state = 109
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				if = {
					limit = {
						has_full_control_of_state = 105
					}
					105 = {
						add_resource = {
							type = tungsten
							amount = 8
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 109
					}
					109 = {
						add_resource = {
							type = chromium
							amount = 8
						}
					}
				}
			}

			ai_will_do = {
				factor = 60
				modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
				}
			}
		}

		focus = { # Exploit the Pannonian Desposits
			id = YUG_exploit_the_pannonian_deposits
			icon = GFX_goal_generic_oil_refinery

			x = 0
			y = 1

			relative_position_id = YUG_rare_minerals_exploitation

			cost = 10

			prerequisite = {
				focus = YUG_rare_minerals_exploitation
			}

			available = {
				has_full_control_of_state = 45
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				if = {
					limit = {
						has_full_control_of_state = 45
					}
					45 = {
						add_resource = {
							type = oil
							amount = 8
						}
					}
				}
			}

			ai_will_do = {
				factor = 60
				modifier = {
						factor = 1.2
						OR = {
							has_completed_focus = YUG_join_comintern
							has_completed_focus = YUG_yugoslavian_path_to_communism
						}
				}
			}
		}

		focus = { # Develop Civilian Industry
			id = YUG_develop_civilian_industry
			icon = GFX_goal_generic_construct_civ_factory

			x = -1
			y = 1

			relative_position_id = YUG_expand_the_mining_industry

			cost = 10

			prerequisite = {
				focus = YUG_expand_the_mining_industry
			}
			
			mutually_exclusive = {
				focus = YUG_develop_military_industry
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				random_owned_controlled_state = {
					prioritize = {
						102
					}
					limit = {
						ROOT = {
							has_full_control_of_state = PREV
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}

				random_owned_controlled_state = {
					prioritize = {
						107
					}
					limit = {
						ROOT = {
							has_full_control_of_state = PREV
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}

				random_owned_controlled_state = {
					prioritize = {
						109
					}
					limit = {
						ROOT = {
							has_full_control_of_state = PREV
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}

			ai_will_do = {
				factor = 60
					modifier = {
						factor = 1.2
						OR = {
							has_completed_focus = YUG_join_comintern
							has_completed_focus = YUG_yugoslavian_path_to_communism
						}
					}
			}
		}

		focus = { # Expand the University of Zagreb
			id = YUG_expand_the_university_of_zagreb
			icon = GFX_focus_research

			x = 0
			y = 3

			relative_position_id = YUG_industrialization_program

			cost = 10

			prerequisite = {
				focus = YUG_develop_civilian_industry
				focus = YUG_develop_military_industry
			}

			available = {
				NOT = {
					has_idea = YUG_idea_croatian_opposition
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				add_research_slot = 1
			}

			ai_will_do = {
				factor = 100
			}
		}

		focus = { # Integrated Rail Network
			id = YUG_integrated_rail_network
			icon = GFX_goal_generic_construct_infrastructure

			x = 0
			y = 2

			relative_position_id = YUG_develop_civilian_industry

			cost = 10

			prerequisite = {
				focus = YUG_expand_the_university_of_zagreb
			}
			
			mutually_exclusive = {
				focus = YUG_improve_serbian_rail_network
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				every_owned_state = {
					limit = {
						ROOT = {
							has_full_control_of_state = PREV
						}
						is_core_of = ROOT
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			ai_will_do = {
				factor = 60
				modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
				}
			}
		}

		focus = { # Improve Light Infantry
			id = YUG_improve_light_industry
			icon = GFX_goal_generic_construct_civ_factory

			x = 1
			y = 3

			relative_position_id = YUG_develop_civilian_industry

			cost = 10

			prerequisite = {
				focus = YUG_improve_serbian_rail_network
				focus = YUG_integrated_rail_network
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				random_owned_controlled_state = {
					prioritize = {
						104
					}
					limit = {
						ROOT = {
							has_full_control_of_state = PREV
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}

				random_owned_controlled_state = {
					prioritize = {
						106
					}
					limit = {
						ROOT = {
							has_full_control_of_state = PREV
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}

			ai_will_do = {
				factor = 80
				modifier = {
					factor = 1.2
					OR = {
						has_completed_focus = YUG_join_comintern
						has_completed_focus = YUG_yugoslavian_path_to_communism
					}
				}
			}
		}

		focus = { # Develop Slovenian Industry
			id = YUG_develop_slovenian_industry
			icon = GFX_goal_generic_construct_mil_factory

			x = 0
			y = 4

			relative_position_id = YUG_develop_civilian_industry

			cost = 10

			prerequisite = {
				focus = YUG_integrated_rail_network
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				random_owned_controlled_state = {
					prioritize = {
						102
					}
					limit = {
						ROOT = {
							has_full_control_of_state = PREV
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}

			ai_will_do = {
				factor = 60
			}
		}

		focus = { # Local Self-Management
			id = YUG_local_self_management
			icon = GFX_focus_generic_self_management

			x = 0
			y = 1

			relative_position_id = YUG_develop_slovenian_industry

			cost = 10

			prerequisite = {
				focus = YUG_develop_slovenian_industry
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				add_ideas = YUG_idea_local_self_management
			}

			ai_will_do = {
				factor = 60
				modifier = {
						factor = 1.2
						OR = {
							has_completed_focus = YUG_join_comintern
							has_completed_focus = YUG_yugoslavian_path_to_communism
						}
					}
			}
		}

		focus = { # Expand the University of Ljubljana
			id = YUG_expand_the_university_of_ljubljana
			icon = GFX_focus_research

			x = -2
			y = 1

			relative_position_id = YUG_develop_slovenian_industry

			cost = 10

			prerequisite = {
				focus = YUG_develop_slovenian_industry
			}

			available = {
				NOT = {
					has_idea = YUG_idea_slovene_nationalism
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				add_research_slot = 1
			}

			ai_will_do = {
				factor = 100
			}
		}

		focus = { # Develop Military Industry
			id = YUG_develop_military_industry
			icon = GFX_goal_generic_construct_mil_factory

			x = 1
			y = 1

			relative_position_id = YUG_expand_the_mining_industry

			cost = 10

			prerequisite = {
				focus = YUG_expand_the_mining_industry
			}
			
			mutually_exclusive = {
				focus = YUG_develop_civilian_industry
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				random_owned_controlled_state = {
					prioritize = {
						107
					}
					limit = {
						ROOT = {
							has_full_control_of_state = PREV
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
			}

			ai_will_do = {
				factor = 40
				modifier = {
					factor = 2
					is_in_faction_with = GER
				}
			}
		}

		focus = { # Improve Serbian Rail Network
			id = YUG_improve_serbian_rail_network
			icon = GFX_goal_generic_construct_infrastructure

			x = 0
			y = 2
			relative_position_id = YUG_develop_military_industry

			cost = 10

			prerequisite = {
				focus = YUG_expand_the_university_of_zagreb
			}
			
			mutually_exclusive = {
				focus = YUG_integrated_rail_network
			}

			available = {
				OR = {
					has_full_control_of_state = 45
					has_full_control_of_state = 105
					has_full_control_of_state = 107
					has_full_control_of_state = 108
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				if = {
					limit = {
						has_full_control_of_state = 45
					}
					45 = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 105
					}
					105 = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 107
					}
					107 = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}

				if = {
					limit = {
						has_full_control_of_state = 108
					}
					108 = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}

			ai_will_do = {
				factor = 40
				modifier = {
					factor = 2
					is_in_faction_with = GER
				}
			}
		}

		focus = { # Serbian Steel
			id = YUG_serbian_steel
			icon = GFX_goal_generic_construct_civilian

			x = 1
			y = 3

			relative_position_id = YUG_develop_military_industry

			cost = 10

			prerequisite = {
				focus = YUG_improve_serbian_rail_network
			}

			available = {
				has_full_control_of_state = 108
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				108 = {
					add_resource = {
						type = steel
						amount = 16
					}
				}
			}

			ai_will_do = {
				factor = 60
			}
		}

		focus = { # Expand the University of Belgrad
			id = YUG_expand_the_university_of_belgrad
			icon = GFX_focus_research

			x = 0
			y = 4

			relative_position_id = YUG_develop_military_industry

			cost = 10

			prerequisite = {
				focus = YUG_improve_serbian_rail_network
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				add_research_slot = 1
			}

			ai_will_do = {
				factor = 100
			}
		}

		focus = { # Central Management
			id = YUG_central_management
			icon = GFX_goal_generic_demand_territory

			x = 0
			y = 5

			relative_position_id = YUG_develop_military_industry

			cost = 10

			prerequisite = {
				focus = YUG_expand_the_university_of_belgrad
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				add_ideas = YUG_idea_central_management
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # Expand the Sarajevo Arsenals
			id = YUG_expand_the_sarajevo_arsenals
			icon = GFX_goal_generic_build_tank

			x = 1
			y = 1

			relative_position_id = YUG_local_self_management

			cost = 10

			prerequisite = {
				focus = YUG_central_management
				focus = YUG_local_self_management
			}

			available = {
				has_full_control_of_state = 104
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = yes

			completion_reward = {
				104 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}

			ai_will_do = {
				factor = 100
			}
		}

	####################
	# Air Force Branch #
	####################

		focus = { # Modernize the Air Force
			id = YUG_modernize_the_air_force
			icon = GFX_goal_generic_air_doctrine
			x = 24
			y = 0

			cost = 10

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = air_doc_bonus
					bonus = 0.5
					uses = 1
					category = air_doctrine
				}
			}

			ai_will_do = {
				factor = 60
				modifier = {
					factor = 1.2
					is_in_faction_with = GER
				}
			}
		}

		focus = { # Local Developers
			id = YUG_local_developers
			icon = GFX_goal_generic_air_production

			x = -2
			y = 1

			relative_position_id = YUG_modernize_the_air_force

			cost = 10

			prerequisite = {
				focus = YUG_modernize_the_air_force
			}
			
			mutually_exclusive = {
				focus = YUG_purchase_foreign
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_ideas = HUN_indigenous_designs
			}

			ai_will_do = {
				factor = 60
			}
		}

		focus = { # Ikarus
			id = YUG_ikarus
			icon = GFX_focus_YUG_ikarus

			x = -2
			y = 1

			relative_position_id = YUG_local_developers

			cost = 10

			prerequisite = {
				focus = YUG_local_developers
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				custom_effect_tooltip = YUG_designer_tt

				random_owned_controlled_state = {
					prioritize = {
						107
					}
					limit = {
						ROOT = {
							has_full_control_of_state = PREV
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # Rogozarski
			id = YUG_rogozarski
			icon = GFX_focus_YUG_rogozarski

			x = 0
			y = 1

			relative_position_id = YUG_local_developers

			cost = 10

			prerequisite = {
				focus = YUG_local_developers
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				custom_effect_tooltip = YUG_designer_tt
				random_owned_controlled_state = {
					prioritize = {
						107
					}
					limit = {
						ROOT = {
							has_full_control_of_state = PREV
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # Zmaj
			id = YUG_zmaj
			icon = GFX_focus_YUG_zmaj

			x = 2
			y = 1

			relative_position_id = YUG_local_developers

			cost = 10

			prerequisite = {
				focus = YUG_local_developers
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				custom_effect_tooltip = YUG_designer_tt
				random_owned_controlled_state = {
					prioritize = {
						107
					}
					limit = {
						ROOT = {
							has_full_control_of_state = PREV
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # The IK 3
			id = YUG_the_ik_3
			icon = GFX_goal_generic_air_fighter2

			x = 0
			y = 2

			relative_position_id = YUG_local_developers

			cost = 10

			prerequisite = {
				focus = YUG_ikarus
				focus = YUG_rogozarski
				focus = YUG_zmaj
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_the_ik_3
					bonus = 0.75
					ahead_reduction = 0.75
					uses = 1
					category = light_fighter
				}
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # Heavy Fighter Project
			id = YUG_heavy_fighter_project
			icon = GFX_goal_generic_air_fighter

			x = -1
			y = 3

			relative_position_id = YUG_local_developers

			cost = 10

			prerequisite = {
				focus = YUG_the_ik_3
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_heavy_fighter_project
					bonus = 0.5
					uses = 1
					category = cat_heavy_fighter
				}
			}

			ai_will_do = {
				factor = 40
			}
		}

		focus = { # Bomber Project
			id = YUG_bomber_project
			icon = GFX_goal_generic_air_bomber

			x = 1
			y = 3

			relative_position_id = YUG_local_developers

			cost = 10

			prerequisite = {
				focus = YUG_the_ik_3
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_bomber_project
					bonus = 0.5
					uses = 1
					category = tactical_bomber
				}
			}

			ai_will_do = {
				factor = 20
			}
		}

		focus = { # Purchase Foreign
			id = YUG_purchase_foreign
			icon = GFX_goal_generic_intelligence_exchange

			x = 2
			y = 1

			relative_position_id = YUG_modernize_the_air_force

			cost = 10

			prerequisite = {
				focus = YUG_modernize_the_air_force
			}
			
			mutually_exclusive = {
				focus = YUG_local_developers
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				if = {
					limit = {
						NOT = {
							has_war_with = GER
						}
					}
				GER = {
					country_event = DOD_yugoslavia.20
				}
				if = {
					limit = {
						NOT = {
							has_war_with = ITA
						}
					}
				ITA = {
					country_event = DOD_yugoslavia.20
				}
				if = {
					limit = {
						NOT = {
							has_war_with = ENG
						}
					}
				ENG = {
					country_event = DOD_yugoslavia.20
				}
				if = {
					limit = {
						NOT = {
							has_war_with = FRA
						}
					}
				FRA = {
					country_event = DOD_yugoslavia.20
				}
			}

			ai_will_do = {
				factor = 60
			}
		}

		focus = { # License Productions
			id = YUG_license_production
			icon = GFX_focus_generic_license_production

			x = 0
			y = 1

			relative_position_id = YUG_purchase_foreign

			cost = 10

			prerequisite = {
				focus = YUG_purchase_foreign
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_ideas = YUG_license_production
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # Fighter License
			id = YUG_fighter_license
			icon = GFX_goal_generic_air_fighter

			x = -1
			y = 2

			relative_position_id = YUG_purchase_foreign

			cost = 10

			prerequisite = {
				focus = YUG_license_production
			}
			
			mutually_exclusive = {
				focus = YUG_bomber_license
			}

			available = {
				NOT = {
					has_tech = fighter3
					has_tech = heavy_fighter3
				}
				OR = {
					GER = {
						custom_trigger_tooltip = {
							tooltip = fighter_tt
							OR = {
								is_available_fighter_YUG = yes
								is_available_heavy_fighter_YUG = yes
							}
						}
					}
					FRA = {
						custom_trigger_tooltip = {
							tooltip = fighter_tt
							OR = {
								is_available_fighter_YUG = yes
								is_available_heavy_fighter_YUG = yes
							}
						}
					}
					ITA = {
						custom_trigger_tooltip = {
							tooltip = fighter_tt
							OR = {
								is_available_fighter_YUG = yes
								is_available_heavy_fighter_YUG = yes
							}
						}
					}
					ENG = {
						custom_trigger_tooltip = {
							tooltip = fighter_tt
							OR = {
								is_available_fighter_YUG = yes
								is_available_heavy_fighter_YUG = yes
							}
						}
					}
					USA = {
						custom_trigger_tooltip = {
							tooltip = fighter_tt
							OR = {
								is_available_fighter_YUG = yes
								is_available_heavy_fighter_YUG = yes
							}
						}
					}
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				country_event = DOD_yugoslavia.150
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # Bomber License
			id = YUG_bomber_license
			icon = GFX_goal_generic_air_bomber

			x = 1
			y = 2

			relative_position_id = YUG_purchase_foreign

			cost = 10

			prerequisite = {
				focus = YUG_license_production
			}
			
			mutually_exclusive = {
				focus = YUG_fighter_license
			}
			
			available = {
				NOT = {
					has_tech = CAS3
					has_tech = tactical_bomber3
				}
				OR = {
					GER = {
						custom_trigger_tooltip = {
							tooltip = bomber_tt
							OR = {
								is_available_cas_YUG = yes
								is_available_tac_YUG = yes
							}
						}
					}
					FRA = {
						custom_trigger_tooltip = {
							tooltip = bomber_tt
							OR = {
								is_available_cas_YUG = yes
								is_available_tac_YUG = yes
							}
						}
					}
					ITA = {
						custom_trigger_tooltip = {
							tooltip = bomber_tt
							OR = {
								is_available_cas_YUG = yes
								is_available_tac_YUG = yes
							}
						}
					}
					ENG = {
						custom_trigger_tooltip = {
							tooltip = bomber_tt
							OR = {
								is_available_cas_YUG = yes
								is_available_tac_YUG = yes
							}
						}
					}
					USA = {
						custom_trigger_tooltip = {
							tooltip = bomber_tt
							OR = {
								is_available_cas_YUG = yes
								is_available_tac_YUG = yes
							}
						}
					}
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				country_event = DOD_yugoslavia.160
			}

			ai_will_do = {
				factor = 25
			}
		}

	###############
	# Army Branch #
	###############

		focus = { # Army Modernization
			id = YUG_army_modernization
			icon = GFX_goal_generic_army_doctrines
			x = 34
			y = 0

			cost = 10

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				army_experience = 25
			}

			ai_will_do = {
				factor = 70
				modifier = {
					factor = 1.2
					is_in_faction_with = GER
				}
			}
		}

		focus = { # Motorize the Cavalry
			id = YUG_motorize_the_cavalry
			icon = GFX_goal_generic_cavalry

			x = -3
			y = 1

			relative_position_id = YUG_army_modernization

			cost = 10

			prerequisite = {
				focus = YUG_army_modernization
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_motorize_the_cavalry
					bonus = 0.75
					technology = motorised_infantry
				}
			}

			ai_will_do = {
				factor = 50
				modifier = {
					factor = 1.2
					is_in_faction_with = GER
				}
			}
		}

		focus = { # Motorized Logistics
			id = YUG_motorized_logistics
			icon = GFX_goal_generic_army_motorized

			x = -2
			y = 1

			relative_position_id = YUG_motorize_the_cavalry

			cost = 10

			prerequisite = {
				focus = YUG_motorize_the_cavalry
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_motorized_logistics
					bonus = 0.5
					uses = 2
					category = hospital_tech
					category = logistics_tech
				}
			}

			ai_will_do = {
				factor = 40
				modifier = {
					factor = 1.2
					is_in_faction_with = GER
				}
			}
		}

		focus = { # Armored Cavalry
			id = YUG_armored_cavalry
			icon = GFX_goal_generic_build_tank

			x = 0
			y = 1

			relative_position_id = YUG_motorize_the_cavalry

			cost = 10

			prerequisite = {
				focus = YUG_motorize_the_cavalry
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_armored_cavalry
					bonus = 0.5
					uses = 1
					category = cat_mechanized_equipment
				}
			}

			ai_will_do = {
				factor = 40
				modifier = {
					factor = 1.5
					is_in_faction_with = GER
				}
			}
		}

		focus = { # Tank Conversions
			id = YUG_tank_conversions
			icon = GFX_goal_generic_production2

			x = -2
			y = 2

			relative_position_id = YUG_motorize_the_cavalry

			cost = 10

			prerequisite = {
				focus = YUG_armored_cavalry
			}
			
			mutually_exclusive = {
				focus = YUG_modern_tanks
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_ideas = YUG_idea_tank_conversions
			}

			ai_will_do = {
				factor = 50
				modifier = {
					factor = 1.5
					is_in_faction_with = GER
				}
			}
		}

		focus = { # Modern Tanks
			id = YUG_modern_tanks
			icon = GFX_goal_generic_army_tanks

			x = 0
			y = 2

			relative_position_id = YUG_motorize_the_cavalry

			cost = 10

			prerequisite = {
				focus = YUG_armored_cavalry
			}
			
			mutually_exclusive = {
				focus = YUG_tank_conversions
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_modern_tanks
					bonus = 0.5
					uses = 1
					category = armor
				}
			}

			ai_will_do = {
				factor = 25
				modifier = {
					factor = 3
					is_in_faction_with = GER
				}
			}
		}

		focus = { # Tank Licenses
			id = YUG_tank_licenses
			icon = GFX_focus_generic_license_production

			x = 0
			y = 3

			relative_position_id = YUG_motorize_the_cavalry

			cost = 10

			prerequisite = {
				focus = YUG_modern_tanks
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_ideas = YUG_tank_licenses
			}

			ai_will_do = {
				factor = 60
				modifier = {
					factor = 1.2
					is_in_faction_with = GER
				}
			}
		}

		focus = { # Small Arms
			id = YUG_small_arms
			icon = GFX_goal_generic_small_arms

			x = -1
			y = 1

			relative_position_id = YUG_army_modernization

			cost = 10

			prerequisite = {
				focus = YUG_army_modernization
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_small_arms
					bonus = 0.50
					uses = 1
					category = infantry_weapons
				}
			}

			ai_will_do = {
				factor = 70
			}
		}

		focus = { # Domestic Artillery Production
			id = YUG_domestic_artillery_production
			icon = GFX_goal_generic_construct_military

			x = 0
			y = 1

			relative_position_id = YUG_small_arms

			cost = 10

			prerequisite = {
				focus = YUG_small_arms
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_domestic_artillery_production
					bonus = 0.50
					uses = 1
					category = artillery
				}
			}

			ai_will_do = {
				factor = 70
			}
		}

		focus = { # Anti-Tank Defenses
			id = YUG_anti_tank_defenses
			icon = GFX_goal_generic_army_artillery2

			x = 0
			y = 2

			relative_position_id = YUG_small_arms

			cost = 10

			prerequisite = {
				focus = YUG_domestic_artillery_production
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_anti_tank_defenses
					bonus = 0.75
					uses = 1
					category = cat_anti_tank
				}
			}

			ai_will_do = {
				factor = 60
			}
		}

		focus = { # Mountain Brigades
			id = YUG_mountain_brigades
			icon = GFX_goal_generic_special_forces

			x = 1
			y = 1

			relative_position_id = YUG_army_modernization

			cost = 10

			prerequisite = {
				focus = YUG_army_modernization
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_mountain_brigades
					bonus = 0.75
					uses = 1
					category = mountaineers_tech
				}
			}

			ai_will_do = {
				factor = 70
			}
		}

		focus = { # Independent Engineer Regiments
			id = YUG_independent_engineer_regiments
			icon = GFX_goal_generic_production

			x = 0
			y = 1

			relative_position_id = YUG_mountain_brigades

			cost = 10

			prerequisite = {
				focus = YUG_mountain_brigades
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_independent_engineer_regiments
					bonus = 0.75
					uses = 1
					category = engineers_tech
				}
			}

			ai_will_do = {
				factor = 50
			}
		}

		focus = { # Motorized Recon Companies
			id = YUG_motorized_recon_companies
			icon = GFX_goal_generic_military_sphere

			x = 0
			y = 2

			relative_position_id = YUG_mountain_brigades

			cost = 10

			prerequisite = {
				focus = YUG_independent_engineer_regiments
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_motorized_recon_companies
					bonus = 0.75
					uses = 1
					category = recon_tech
				}
			}

			ai_will_do = {
				factor = 40
			}
		}

		focus = { # Form Parachute Battalions
			id = YUG_form_parachute_battalions
			icon = GFX_focus_generic_paratrooper

			x = 0
			y = 3

			relative_position_id = YUG_mountain_brigades

			cost = 10

			prerequisite = {
				focus = YUG_motorized_recon_companies
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_form_parachute_battalions
					bonus = 0.75
					uses = 1
					category = para_tech
				}
			}

			ai_will_do = {
				factor = 10
			}
		}

		focus = { # Army Maneuvers
			id = YUG_army_maneuvers
			icon = GFX_goal_generic_army_doctrines

			x = 4
			y = 1

			relative_position_id = YUG_army_modernization

			cost = 10

			prerequisite = {
				focus = YUG_army_modernization
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_army_maneuvers
					bonus = 0.5
					uses = 1
					category = land_doctrine
				}
			}

			ai_will_do = {
				factor = 70
			}
		}

		focus = { # Supremacy of Offense
			id = YUG_supremacy_of_offense
			icon = GFX_goal_generic_major_war

			x = -1
			y = 1

			relative_position_id = YUG_army_maneuvers

			cost = 10

			prerequisite = {
				focus = YUG_army_maneuvers
			}
			
			mutually_exclusive = {
				focus = YUG_supremacy_of_defense
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_supremacy_of_offense
					bonus = 0.5
					uses = 2
					category = cat_mobile_warfare
					category = cat_superior_firepower
				}
			}

			ai_will_do = {
				factor = 30
			}
		}

		focus = { # Supremacy of Defense
			id = YUG_supremacy_of_defense
			icon = GFX_goal_generic_position_armies

			x = 1
			y = 1

			relative_position_id = YUG_army_maneuvers

			cost = 10

			prerequisite = { 
				focus = YUG_army_maneuvers
			}
			
			mutually_exclusive = { 
				focus = YUG_supremacy_of_offense
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_supremacy_of_defense
					bonus = 0.5
					uses = 2
					category = cat_grand_battle_plan
					category = cat_mass_assault
				}
			}

			ai_will_do = {
				factor = 60
			}
		}

		focus = { # Artillery Regiments
			id = YUG_artillery_regiments
			icon = GFX_goal_generic_army_artillery

			x = 0
			y = 2

			relative_position_id = YUG_army_maneuvers

			cost = 10

			prerequisite = {
				focus = YUG_supremacy_of_defense
				focus = YUG_supremacy_of_offense
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_ideas = YUG_artillery_regiments
			}

			ai_will_do = {
				factor = 70
			}
		}

	###############
	# Navy Branch #
	###############

		focus = { # Expand the Split Shipyards
			id = YUG_expand_the_split_shipyards
			icon = GFX_goal_generic_construct_naval_dockyard

			x = 42
			y = 0

			cost = 10

			mutually_exclusive = {
				focus = YUG_expand_the_serbian_shipyards
			}

			available = {
				has_full_control_of_state = 103
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				103 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}

			ai_will_do = {
				factor = 40
			}
		}

		focus = { # Contest the Adriatic
			id = YUG_contest_the_adriatic
			icon = GFX_goal_generic_navy_doctrines_tactics

			x = 0
			y = 1

			relative_position_id = YUG_expand_the_split_shipyards

			cost = 10

			prerequisite = {
				focus = YUG_expand_the_split_shipyards
			}

			available = {
				any_owned_state = {
					is_coastal = yes
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_contest_the_adriatic
					bonus = 0.5
					uses = 2
					category = naval_doctrine
				}
			}

			ai_will_do = {
				factor = 20
			}
		}

		focus = { # Replace the Dalmacija
			id = YUG_replace_the_dalmacija
			icon = GFX_goal_generic_navy_cruiser

			x = -1
			y = 2

			relative_position_id = YUG_expand_the_split_shipyards

			cost = 10

			prerequisite = {
				focus = YUG_contest_the_adriatic
			}

			available = {
				any_owned_state = {
					is_coastal = yes
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_replace_the_dalmacija
					bonus = 0.5
					uses = 1
					category = cl_tech
				}
			}

			ai_will_do = {
				factor = 20
			}
		}

		focus = { # Naval Bombers
			id = YUG_naval_bombers
			icon = GFX_goal_generic_air_naval_bomber

			x = 1
			y = 2

			relative_position_id = YUG_expand_the_split_shipyards

			cost = 10

			prerequisite = {
				focus = YUG_coastal_defense
				focus = YUG_contest_the_adriatic
			}

			available = {
				any_owned_state = {
					is_coastal = yes
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_naval_bombers
					bonus = 0.5
					uses = 1
					category = naval_bomber
				}
			}

			ai_will_do = {
				factor = 30
			}
		}

		focus = { # Heavy Cruiser Project
			id = YUG_heavy_cruiser_project
			icon = GFX_goal_generic_navy_battleship

			x = -1
			y = 3

			relative_position_id = YUG_expand_the_split_shipyards

			cost = 10

			prerequisite = {
				focus = YUG_replace_the_dalmacija
			}

			available = {
				any_owned_state = {
					is_coastal = yes
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_heavy_cruiser_project
					bonus = 0.5
					uses = 1
					category = ca_tech
				}
			}

			ai_will_do = {
				factor = 20
			}
		}

		focus = { # Modern Destroyers
			id = YUG_modern_destroyers
			icon = GFX_goal_generic_navy_anti_submarine

			x = 1
			y = 3

			relative_position_id = YUG_expand_the_split_shipyards

			cost = 10

			prerequisite = {
				focus = YUG_naval_bombers
			}

			available = {
				any_owned_state = {
					is_coastal = yes
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_modern_destroyers
					bonus = 0.5
					uses = 1
					category = dd_tech
				}
			}

			ai_will_do = {
				factor = 20
			}
		}

		focus = { # Expand the Serbian Shipyards
			id = YUG_expand_the_serbian_shipyards
			icon = GFX_goal_generic_construct_naval_dockyard

			x = 3
			y = 0

			relative_position_id = YUG_expand_the_split_shipyards

			cost = 10

			mutually_exclusive = {
				focus = YUG_expand_the_split_shipyards
			}

			available = {
				has_full_control_of_state = 105
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				105 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}

			ai_will_do = {
				factor = 40
			}
		}

		focus = { # Coastal Defense
			id = YUG_coastal_defense
			icon = GFX_focus_generic_coastal_fort

			x = -1
			y = 1

			relative_position_id = YUG_expand_the_serbian_shipyards

			cost = 10

			prerequisite = {
				focus = YUG_expand_the_serbian_shipyards
			}

			available = {
				OR = {
					has_full_control_of_state = 103
					has_full_control_of_state = 105
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				#forts on coast and harbor
				if = {
					limit = {
						has_full_control_of_state = 103
					}
					103 = {
						custom_effect_tooltip = YUG_coastal_defense_effect_tt1
						custom_effect_tooltip = YUG_coastal_defense_effect_tt2
						hidden_effect = {
							add_building_construction = {
								type = coastal_bunker
								province = {
									all_provinces = yes
									limit_to_coastal = yes
								}
								level = 2
								instant_build = yes
							}			
							add_building_construction = {
								type = coastal_bunker
								province = {
									all_provinces = yes
									limit_to_naval_base = yes
								}
								level = 1
								instant_build = yes
							}
						}
					}
				}
				
				if = {
					limit = {
						has_full_control_of_state = 105
					}
					105 = {
						custom_effect_tooltip = YUG_coastal_defense_effect_tt1
						custom_effect_tooltip = YUG_coastal_defense_effect_tt2
						hidden_effect = {
							add_building_construction = {
								type = coastal_bunker
								province = {
									all_provinces = yes
									limit_to_coastal = yes
								}
								level = 2
								instant_build = yes
							}			
							add_building_construction = {
								type = coastal_bunker
								province = {
									all_provinces = yes
									limit_to_naval_base = yes
								}
								level = 1
								instant_build = yes
							}
						}
					}
				}
			}

			ai_will_do = {
				factor = 30
			}
		}

		focus = { # Expand the Submarine Fleet
			id = YUG_expand_the_submarine_fleet
			icon = GFX_goal_generic_navy_submarine

			x = 0
			y = 2

			relative_position_id = YUG_expand_the_serbian_shipyards

			cost = 10

			prerequisite = {
				focus = YUG_coastal_defense
			}

			available = {
				any_owned_state = {
					is_coastal = yes
				}
			}

			cancel_if_invalid = yes
			continue_if_invalid = no
			available_if_capitulated = no

			completion_reward = {
				add_tech_bonus = {
					name = YUG_expand_the_submarine_fleet
					bonus = 0.5
					uses = 1
					category = ss_tech
				}
			}

			ai_will_do = {
				factor = 20
			}
		}
}